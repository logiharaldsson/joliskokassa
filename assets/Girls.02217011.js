import{i as c,g as x,c as y}from"./UseData.94aac2b9.js";import{u as m,o as i,c as a,a as o,F as h,r as b,t as d,d as l,n as g,e as v}from"./index.acd32430.js";const B={class:"flex flex-col absolute z-20"},p=["onClick","id"],f={class:"w-screen flex flex-col sm:items-center items-end"},C={class:"relative w-3/5 mr-6 sm:mr-0 flex justify-center text-2xl my-2"},w={class:"flex"},k={class:"flex flex-col justify-center minus-buttons tally-button mr-2"},I={class:"relative h-60 w-44 xs:w-80 mx-3 flex-col justify-center bg-pink-300 rounded-lg shadow-xl shadow-slate-300/60"},A={class:"flex justify-center items-center px-7 pt-9 pb-2 mx-7 mt-5"},D={class:"text-6xl text-center text-white mt-8"},G={class:"relative sm:w-80 w-3/5 mr-6 sm:mr-0 flex justify-center text-2xl my-2"},$={class:"relative mr-6 sm:mr-0 flex justify-center my-2"},S=["onClick"],L=v('<div><div class="grid grid-cols-6"><div class="text-center p-2 border-b-4 border-gray-500">Kyn</div><div class="text-center p-2 border-b-4 border-gray-500">Aldur</div><div class="text-center p-2 border-b-4 border-gray-500">Kassi #</div><div class="text-center p-2 border-b-4 border-gray-500">A\xF0ger\xF0</div><div class="text-center p-2 border-b-4 border-gray-500">Sta\xF0a</div><div class="text-center p-2 border-b-4 border-gray-500">T\xEDmi</div></div><div id="historyTable" class="w-full"></div></div><div class="m-6 p-6">footer</div>',2),j={data(){return{ages:["1-2 \xE1ra","3-6 \xE1ra","7-10 \xE1ra","11-14 \xE1ra","15+ \xE1ra"],agesCategories:["1-2","3-6","7-10","11-14","15+"],ageIndex:0,genderCategories:["stelpur","str\xE1kar"],genderDBCategories:["girls","boys"],genderIndex:0,fetchData:null,fetchBoxNumber:null,fetchBoxCounter:0,supabaseBoxCounter:0,currentUser:"logi",fetchAvailableGiantBoxes:[],boxIndex:0,historyLogs:[],historyLogsIce:[],historyLogsString:"",historyLogsIceCopy:[],sbBoxCounters:[]}},async created(){await this.fetchAllBoxes("girls","1-2","2022")},computed:{isMobile(){return window.innerWidth<520},currentGender(){return this.genderCategories[this.genderIndex]},currentAge(){return this.ages[this.ageIndex]},currentDbGender(){return this.genderDBCategories[this.genderIndex]},currentDbAge(){return this.agesCategories[this.ageIndex]},currentCount(){return this.sbBoxCounters[this.boxIndex]}},methods:{async updateBoxCounter(s,e,t,r,n){c(s,e,t,r,n).then(u=>this.sbBoxCounters[this.boxIndex]=u)},async fetchAllBoxes(s,e,t){x(s,e,t).then(r=>{this.sbBoxCounters=r}).then(()=>this.boxIndex=this.sbBoxCounters.length-1)},addToBox(s){const e={gender:this.currentDbGender,age:this.currentDbAge,box_number:this.boxIndex+1,increment:s};JisDataServices.addToBox(JSON.stringify(e)).then(t=>{this.fetchBoxCounter=t.data,this.fetchAvailableGiantBoxes[this.boxIndex]=t.data}).then(()=>this.getHistory())},async getHistory(){JisDataServices.getHistory().then(s=>{console.log("history response",s.data),this.historyLogs=[],s.data.forEach(e=>{this.historyLogs.push(e)})}).then(()=>this.historyLogsString=JSON.stringify(this.historyLogs))},async tallyButton(s){await this.updateBoxCounter(s,this.currentDbGender,this.currentDbAge,this.boxIndex+1,"2022")},async addGiantBox(){await y(this.currentDbGender,this.currentDbAge,"2022"),this.fetchAllBoxes(this.currentDbGender,this.currentDbAge,"2022")},async ageButton(s){this.fetchAllBoxes("girls",this.agesCategories[s],"2022"),this.ageIndex=s},changeBoxIndex(s){this.boxIndex=s}},watch:{}},J=Object.assign(j,{__name:"Girls",setup(s){return m(),(e,t)=>(i(),a(h,null,[o("div",B,[(i(!0),a(h,null,b(e.agesCategories,(r,n)=>(i(),a("button",{onClick:u=>e.ageButton(n),class:g([{"bg-pink-400":n===e.ageIndex,"text-white":n===e.ageIndex},"target:bg-pink-200 sidebar-item border rounded p-2 m-2 w-36 h-16 text-center shadow-xl hover:bg-pink-300 hover:text-white"]),key:`age-${n}`,id:`${r}`},d(r)+" \xE1ra ",11,p))),128))]),o("div",f,[o("div",C," Stelpur "+d(e.currentAge),1),o("div",w,[o("div",k,[e.isMobile?l("",!0):(i(),a("button",{key:0,class:"text-white rounded p-2 my-2 bg-red-500",onClick:t[0]||(t[0]=r=>e.tallyButton(-1))}," -1 ")),e.isMobile?l("",!0):(i(),a("button",{key:1,class:"text-white rounded p-2 my-2 bg-red-500",onClick:t[1]||(t[1]=r=>e.tallyButton(-5))}," -5 "))]),o("div",I,[o("div",A,[o("p",D,d(e.currentCount),1)])]),o("div",{class:g([{"mr-2":e.isMobile},"flex flex-col justify-center minus-buttons tally-button ml-2"])},[e.isMobile?(i(),a("button",{key:0,class:"text-white rounded p-2 my-2 bg-red-500",onClick:t[2]||(t[2]=r=>e.tallyButton(-1))}," -1 ")):l("",!0),e.isMobile?(i(),a("button",{key:1,class:"text-white rounded p-2 my-2 bg-red-500",onClick:t[3]||(t[3]=r=>e.tallyButton(-5))}," -5 ")):l("",!0),o("button",{class:"text-white rounded p-2 my-2 bg-green-500",onClick:t[4]||(t[4]=r=>e.tallyButton(1))}," +1 "),o("button",{class:"text-white rounded p-2 my-2 bg-green-500",onClick:t[5]||(t[5]=r=>e.tallyButton(5))}," +5 ")],2)]),o("div",G," Kassi #"+d(e.boxIndex+1),1),o("div",$,[o("button",{onClick:t[6]||(t[6]=r=>e.addGiantBox()),class:"m-1 p-2 border shadow-xl rounded hover:bg-gray-400 hover:text-white"}," B\xFAa til kassa "),(i(!0),a(h,null,b(e.sbBoxCounters,(r,n)=>(i(),a("button",{onClick:u=>e.changeBoxIndex(n),key:r+n,class:g([{"bg-pink-400":n===e.boxIndex,"text-white":n===e.boxIndex},"m-1 p-2 px-4 border shadow-xl rounded hover:bg-pink-300 hover:text-white"])},d(n+1),11,S))),128))]),L])],64))}});export{J as default};
